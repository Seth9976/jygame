using System;
using System.Collections;
using System.Diagnostics;
using System.IO;
using System.Net;
using System.Runtime.CompilerServices;
using JyGame;
using UnityEngine;

namespace Assets.Scripts.GameCore;

internal class UpdateTool
{
	public static bool IsDone;

	[CompilerGenerated]
	private static double _202C_202A_206F_200F_200E_206A_200E_200C_206F_206D_202D_202C_202C_200D_202B_202E_206E_200F_200F_206C_206E_202C_202A_202B_206F_202B_200F_206D_200B_200F_200B_200C_200D_202D_206D_206D_200E_200D_206B_200F_202E;

	public static double Progress
	{
		[CompilerGenerated]
		get
		{
			return _202C_202A_206F_200F_200E_206A_200E_200C_206F_206D_202D_202C_202C_200D_202B_202E_206E_200F_200F_206C_206E_202C_202A_202B_206F_202B_200F_206D_200B_200F_200B_200C_200D_202D_206D_206D_200E_200D_206B_200F_202E;
		}
		[CompilerGenerated]
		set
		{
			_202C_202A_206F_200F_200E_206A_200E_200C_206F_206D_202D_202C_202C_200D_202B_202E_206E_200F_200F_206C_206E_202C_202A_202B_206F_202B_200F_206D_200B_200F_200B_200C_200D_202D_206D_206D_200E_200D_206B_200F_202E = value;
		}
	}

	static UpdateTool()
	{
	}

	[DebuggerHidden]
	public static IEnumerator CheckResouces(CommonSettings.VoidCallBack callback = null)
	{
		while (true)
		{
			int num = -1784342339;
			while (true)
			{
				uint num2;
				int num3;
				switch ((num2 = (uint)(num ^ -1832819456)) % 10)
				{
				case 5u:
					break;
				default:
					yield break;
				case 8u:
					num = ((callback == null) ? 340320814 : 298862132) ^ (int)(num2 * 126919193);
					continue;
				case 6u:
					IsDone = true;
					num = (int)((num2 * 1634123171) ^ 0x5DD1652E);
					continue;
				case 2u:
					num = ((num3 == 1) ? 1047768543 : 565063119) ^ ((int)num2 * -1116344920);
					continue;
				case 1u:
					num = ((num3 != 0) ? 2029492616 : 1323148963) ^ ((int)num2 * -1704479066);
					continue;
				case 7u:
					yield break;
				case 4u:
					yield return null;
					break;
				case 0u:
					callback();
					num = ((int)num2 * -1244544570) ^ -1451583188;
					continue;
				case 3u:
					num = -1435750208;
					continue;
				}
				break;
			}
		}
	}

	public static string ReadResource(string file)
	{
		//IL_0000: Unknown result type (might be due to invalid IL or missing references)
		//IL_0006: Invalid comparison between Unknown and I4
		if ((int)_200D_202B_200B_206D_206C_202D_200F_202C_200B_206C_202B_200C_200B_202E_206A_202B_200D_206E_206B_200E_202A_206E_206F_200D_206B_200F_206D_206C_200F_200F_206E_206F_202C_200D_206B_200B_200B_206D_202C_202B_202E() == 5)
		{
			while (true)
			{
				uint num;
				switch ((num = 114490375u) % 3)
				{
				case 2u:
					continue;
				case 1u:
					return null;
				}
				break;
			}
		}
		return ReadText(_202C_200E_206B_202E_200B_202E_206D_200C_206A_202D_200C_206B_200E_202B_206D_206E_206A_202A_206B_206B_200B_206B_202E_200D_202A_202C_206F_202C_206A_206A_206E_200D_202B_202D_202B_200B_200C_200F_200D_206C_202E((object)global::_003CModule_003E._206E_202A_206F_206F_202C_206D_206F_206C_200F_206D_200D_200C_206A_206D_206C_206C_206F_202C_202C_200E_200C_206C_200D_206A_202E_202A_200C_202A_206B_200D_202E_200C_202E_200D_200B_200B_206E_200D_202C_206F_202E<string>(3471882578u), (object)Path.DirectorySeparatorChar, (object)file));
	}

	private static void MoveFile(string src, string des)
	{
		FileInfo fileInfo = _206E_200D_200C_200F_200E_206E_202B_202A_202D_206C_200B_200F_202E_200B_200E_200D_202B_206D_202C_202D_206D_206D_206C_200B_206B_202C_206B_206B_206C_200F_206D_202B_206F_202C_206A_202E_200F_206B_202B_202D_202E(_202C_200E_206B_202E_200B_202E_206D_200C_206A_202D_200C_206B_200E_202B_206D_206E_206A_202A_206B_206B_200B_206B_202E_200D_202A_202C_206F_202C_206A_206A_206E_200D_202B_202D_202B_200B_200C_200F_200D_206C_202E((object)CommonSettings.persistentDataPath, (object)Path.DirectorySeparatorChar, (object)des));
		string text = default(string);
		while (true)
		{
			int num = 524396270;
			while (true)
			{
				uint num2;
				switch ((num2 = (uint)(num ^ 0x4CBE0667)) % 7)
				{
				case 3u:
					break;
				default:
					return;
				case 0u:
					_200C_200D_202B_206C_200C_202A_202D_202A_200B_200D_206D_202B_200F_206F_206E_202D_206B_206B_202A_200E_206B_200E_202C_202C_200F_200B_200B_202B_200F_202E_202D_200B_206C_202D_202D_200E_206B_206A_206E_202E(_202D_206C_202E_206D_202B_206D_206E_200B_206D_202E_202B_202C_206A_206D_200B_200E_206C_200C_200F_206F_200C_200E_202E_202E_200E_202C_202A_206F_206F_206D_202D_202E_206F_200B_202B_200C_200C_200B_202B_206E_202E((FileSystemInfo)fileInfo));
					num = (int)(num2 * 561081250) ^ -156611866;
					continue;
				case 2u:
					_200B_206D_202D_206C_206C_200E_206D_200D_206F_202B_206D_202D_200F_206B_206F_206E_202B_200E_200F_206E_200B_206F_202E_206B_200C_200D_206F_202E_200F_206A_202A_206B_200F_202B_206A_200B_200D_200E_202C_206A_202E(_202C_200E_206B_202E_200B_202E_206D_200C_206A_202D_200C_206B_200E_202B_206D_206E_206A_202A_206B_206B_200B_206B_202E_200D_202A_202C_206F_202C_206A_206A_206E_200D_202B_202D_202B_200B_200C_200F_200D_206C_202E((object)CommonSettings.persistentDataPath, (object)Path.DirectorySeparatorChar, (object)src), _202D_206C_202E_206D_202B_206D_206E_200B_206D_202E_202B_202C_206A_206D_200B_200E_206C_200C_200F_206F_200C_200E_202E_202E_200E_202C_202A_206F_206F_206D_202D_202E_206F_200B_202B_200C_200C_200B_202B_206E_202E((FileSystemInfo)fileInfo));
					num = 423376348;
					continue;
				case 6u:
					_206B_202C_200C_202A_200B_206E_200D_206E_200C_206D_206B_200E_206F_206D_202A_202B_206B_206B_206D_200B_206D_202A_200E_200D_200D_200F_202A_206C_202D_200E_200C_200C_206D_202A_206A_202C_206D_200F_206E_202E(text);
					num = ((int)num2 * -2019002864) ^ 0x426426AD;
					continue;
				case 5u:
				{
					text = _200B_206C_202A_200E_200F_202E_200C_206F_200B_202B_202D_206C_202C_202E_200B_202D_206D_200C_200E_206C_202E_206E_200B_200E_200C_206F_206E_206B_200D_206E_202E_206B_202B_206E_206D_200B_206F_202E_206F_200D_202E(_202D_206C_202E_206D_202B_206D_206E_200B_206D_202E_202B_202C_206A_206D_200B_200E_206C_200C_200F_206F_200C_200E_202E_202E_200E_202C_202A_206F_206F_206D_202D_202E_206F_200B_202B_200C_200C_200B_202B_206E_202E((FileSystemInfo)fileInfo), 0, _206A_206A_206D_202B_202E_206F_206D_200E_200C_200C_202A_206E_200E_202E_200C_206B_202D_200C_202D_206A_202C_206A_200E_206B_206D_206F_206E_200D_200B_202E_200E_206A_200F_200B_206B_200B_206B_202E_200D_200E_202E(_202D_206C_202E_206D_202B_206D_206E_200B_206D_202E_202B_202C_206A_206D_200B_200E_206C_200C_200F_206F_200C_200E_202E_202E_200E_202C_202A_206F_206F_206D_202D_202E_206F_200B_202B_200C_200C_200B_202B_206E_202E((FileSystemInfo)fileInfo), Path.DirectorySeparatorChar));
					int num4;
					int num5;
					if (_202B_202B_200B_202D_200C_202C_200D_206E_206C_202A_200F_202D_206C_200C_202D_200D_206D_206B_202B_206A_206F_206F_206C_200B_206D_200F_206E_200E_200E_206B_200C_202E_206A_206C_200B_202B_206A_206A_202C_202E(text))
					{
						num4 = -1251002811;
						num5 = num4;
					}
					else
					{
						num4 = -1479345017;
						num5 = num4;
					}
					num = num4 ^ ((int)num2 * -2084742360);
					continue;
				}
				case 4u:
				{
					int num3;
					if (!_206A_202A_200F_202A_202E_202A_202A_200B_206E_206E_202D_202E_202D_202A_206E_206B_202E_200C_206E_206D_206B_206A_206B_202C_202D_202D_206E_202E_202E_206B_200C_206D_202D_202D_200F_202E_206C_200C_202D_206F_202E(fileInfo))
					{
						num = 1552800326;
						num3 = num;
					}
					else
					{
						num = 456147255;
						num3 = num;
					}
					continue;
				}
				case 1u:
					return;
				}
				break;
			}
		}
	}

	private static string ReadText(string path)
	{
		string result = default(string);
		try
		{
			TextReader textReader = _206D_202A_202C_202C_202B_200B_202B_200F_202E_200D_202A_206B_206A_202E_206C_206A_206D_202C_200F_200F_206F_202D_206B_202B_200D_202C_206E_200F_206C_202B_206E_202D_200C_206F_200B_202C_206B_206B_202C_206F_202E(_202C_200E_206B_202E_200B_202E_206D_200C_206A_202D_200C_206B_200E_202B_206D_206E_206A_202A_206B_206B_200B_206B_202E_200D_202A_202C_206F_202C_206A_206A_206E_200D_202B_202D_202B_200B_200C_200F_200D_206C_202E((object)CommonSettings.persistentDataPath, (object)Path.DirectorySeparatorChar, (object)path));
			try
			{
				result = _200D_202A_206F_206F_206E_206F_202B_206F_206D_202E_202E_206D_200F_206D_200C_206B_200D_202D_202A_200E_202E_206A_200F_200F_206B_200E_206C_202A_200C_200B_200C_206A_206D_200B_200F_200B_200B_206B_200D_202E(textReader);
				while (true)
				{
					uint num;
					switch ((num = 315729733u) % 3)
					{
					case 0u:
						break;
					default:
						goto end_IL_0022;
					case 1u:
						goto end_IL_0022;
					case 2u:
						goto end_IL_0022;
					}
					continue;
					end_IL_0022:
					break;
				}
			}
			finally
			{
				if (textReader != null)
				{
					while (true)
					{
						IL_005d:
						int num2 = 935510198;
						while (true)
						{
							uint num;
							switch ((num = (uint)(num2 ^ 0x7A461830)) % 3)
							{
							case 0u:
								break;
							default:
								goto end_IL_0062;
							case 1u:
								goto IL_007f;
							case 2u:
								goto end_IL_0062;
							}
							goto IL_005d;
							IL_007f:
							_200F_206F_202D_200E_200F_206C_206F_200B_206C_206D_202B_206E_206A_202C_202A_206B_206C_206A_200F_206A_200E_200B_200B_200C_202B_200D_200B_200E_202B_202B_206F_200C_200F_200E_202B_202A_200F_200B_202A_202B_202E((IDisposable)textReader);
							num2 = ((int)num * -1253035140) ^ 0x9FF51F3;
							continue;
							end_IL_0062:
							break;
						}
						break;
					}
				}
			}
		}
		catch
		{
			while (true)
			{
				uint num;
				switch ((num = 1815783232u) % 3)
				{
				case 2u:
					break;
				default:
					goto end_IL_0098;
				case 1u:
					result = null;
					goto end_IL_0098;
				case 0u:
					goto end_IL_0098;
				}
				continue;
				end_IL_0098:
				break;
			}
		}
		return result;
	}

	private static void Download(string url, string dir)
	{
		try
		{
			WebClient webClient = _200B_206C_202C_202A_200F_200B_202E_200D_206C_206F_202C_200B_206E_200C_200D_200F_200F_200E_206A_202C_202D_202D_202E_202B_202D_202E_200D_202B_206A_202D_206E_206F_200F_200E_202D_206A_206D_206A_206F_202B_202E();
			while (true)
			{
				int num = -1595302118;
				while (true)
				{
					uint num2;
					switch ((num2 = (uint)(num ^ -698837648)) % 5)
					{
					case 4u:
						break;
					case 1u:
						dir = _202C_200E_206B_202E_200B_202E_206D_200C_206A_202D_200C_206B_200E_202B_206D_206E_206A_202A_206B_206B_200B_206B_202E_200D_202A_202C_206F_202C_206A_206A_206E_200D_202B_202D_202B_200B_200C_200F_200D_206C_202E((object)CommonSettings.persistentDataPath, (object)Path.DirectorySeparatorChar, (object)dir);
						num = ((int)num2 * -2041488916) ^ 0x6585BDB6;
						continue;
					case 3u:
						_206B_202C_200C_202A_200B_206E_200D_206E_200C_206D_206B_200E_206F_206D_202A_202B_206B_206B_206D_200B_206D_202A_200E_200D_200D_200F_202A_206C_202D_200E_200C_200C_206D_202A_206A_202C_206D_200F_206E_202E(dir);
						num = (int)(num2 * 1141504758) ^ -1710908839;
						continue;
					case 0u:
					{
						int num3;
						int num4;
						if (!_202B_202B_200B_202D_200C_202C_200D_206E_206C_202A_200F_202D_206C_200C_202D_200D_206D_206B_202B_206A_206F_206F_206C_200B_206D_200F_206E_200E_200E_206B_200C_202E_206A_206C_200B_202B_206A_206A_202C_202E(dir))
						{
							num3 = -112639075;
							num4 = num3;
						}
						else
						{
							num3 = -265984691;
							num4 = num3;
						}
						num = num3 ^ (int)(num2 * 1567861533);
						continue;
					}
					default:
						_206F_206C_202A_200F_206D_202B_206A_200E_206E_200C_206C_206C_206E_202C_200E_202E_200C_206E_206C_202E_206C_206D_206A_200F_202D_206A_202C_206F_200E_200E_206B_202E_202C_206E_202E_206F_200C_200D_206C_200C_202E(webClient, url, _202C_200E_206B_202E_200B_202E_206D_200C_206A_202D_200C_206B_200E_202B_206D_206E_206A_202A_206B_206B_200B_206B_202E_200D_202A_202C_206F_202C_206A_206A_206E_200D_202B_202D_202B_200B_200C_200F_200D_206C_202E((object)dir, (object)Path.DirectorySeparatorChar, (object)_202E_206F_202C_202C_200E_200D_202A_202A_202B_200C_200C_200F_206C_206B_200F_200C_206B_202E_206F_206A_202D_202C_202B_200D_202B_202D_206C_200C_202A_200E_206F_202E_202A_200E_200F_200F_206A_206A_200D_202B_202E(url)));
						return;
					}
					break;
				}
			}
		}
		catch (Exception ex)
		{
			_202C_202B_200D_206D_206C_200B_200F_206C_200C_202B_200C_200F_202A_206B_202B_206F_202D_202D_202B_206D_200B_202A_206C_206D_200D_202A_206D_206E_200D_200D_200E_206D_206E_202C_202E_206E_200C_206D_202A_206D_202E(ex);
		}
	}

	static RuntimePlatform _200D_202B_200B_206D_206C_202D_200F_202C_200B_206C_202B_200C_200B_202E_206A_202B_200D_206E_206B_200E_202A_206E_206F_200D_206B_200F_206D_206C_200F_200F_206E_206F_202C_200D_206B_200B_200B_206D_202C_202B_202E()
	{
		//IL_0000: Unknown result type (might be due to invalid IL or missing references)
		return Application.platform;
	}

	static string _202C_200E_206B_202E_200B_202E_206D_200C_206A_202D_200C_206B_200E_202B_206D_206E_206A_202A_206B_206B_200B_206B_202E_200D_202A_202C_206F_202C_206A_206A_206E_200D_202B_202D_202B_200B_200C_200F_200D_206C_202E(object P_0, object P_1, object P_2)
	{
		return string.Concat(P_0, P_1, P_2);
	}

	static FileInfo _206E_200D_200C_200F_200E_206E_202B_202A_202D_206C_200B_200F_202E_200B_200E_200D_202B_206D_202C_202D_206D_206D_206C_200B_206B_202C_206B_206B_206C_200F_206D_202B_206F_202C_206A_202E_200F_206B_202B_202D_202E(string P_0)
	{
		return new FileInfo(P_0);
	}

	static string _202D_206C_202E_206D_202B_206D_206E_200B_206D_202E_202B_202C_206A_206D_200B_200E_206C_200C_200F_206F_200C_200E_202E_202E_200E_202C_202A_206F_206F_206D_202D_202E_206F_200B_202B_200C_200C_200B_202B_206E_202E(FileSystemInfo P_0)
	{
		return P_0.FullName;
	}

	static int _206A_206A_206D_202B_202E_206F_206D_200E_200C_200C_202A_206E_200E_202E_200C_206B_202D_200C_202D_206A_202C_206A_200E_206B_206D_206F_206E_200D_200B_202E_200E_206A_200F_200B_206B_200B_206B_202E_200D_200E_202E(string P_0, char P_1)
	{
		return P_0.LastIndexOf(P_1);
	}

	static string _200B_206C_202A_200E_200F_202E_200C_206F_200B_202B_202D_206C_202C_202E_200B_202D_206D_200C_200E_206C_202E_206E_200B_200E_200C_206F_206E_206B_200D_206E_202E_206B_202B_206E_206D_200B_206F_202E_206F_200D_202E(string P_0, int P_1, int P_2)
	{
		return P_0.Substring(P_1, P_2);
	}

	static bool _202B_202B_200B_202D_200C_202C_200D_206E_206C_202A_200F_202D_206C_200C_202D_200D_206D_206B_202B_206A_206F_206F_206C_200B_206D_200F_206E_200E_200E_206B_200C_202E_206A_206C_200B_202B_206A_206A_202C_202E(string P_0)
	{
		return Directory.Exists(P_0);
	}

	static DirectoryInfo _206B_202C_200C_202A_200B_206E_200D_206E_200C_206D_206B_200E_206F_206D_202A_202B_206B_206B_206D_200B_206D_202A_200E_200D_200D_200F_202A_206C_202D_200E_200C_200C_206D_202A_206A_202C_206D_200F_206E_202E(string P_0)
	{
		return Directory.CreateDirectory(P_0);
	}

	static bool _206A_202A_200F_202A_202E_202A_202A_200B_206E_206E_202D_202E_202D_202A_206E_206B_202E_200C_206E_206D_206B_206A_206B_202C_202D_202D_206E_202E_202E_206B_200C_206D_202D_202D_200F_202E_206C_200C_202D_206F_202E(FileInfo P_0)
	{
		return P_0.Exists;
	}

	static void _200C_200D_202B_206C_200C_202A_202D_202A_200B_200D_206D_202B_200F_206F_206E_202D_206B_206B_202A_200E_206B_200E_202C_202C_200F_200B_200B_202B_200F_202E_202D_200B_206C_202D_202D_200E_206B_206A_206E_202E(string P_0)
	{
		File.Delete(P_0);
	}

	static void _200B_206D_202D_206C_206C_200E_206D_200D_206F_202B_206D_202D_200F_206B_206F_206E_202B_200E_200F_206E_200B_206F_202E_206B_200C_200D_206F_202E_200F_206A_202A_206B_200F_202B_206A_200B_200D_200E_202C_206A_202E(string P_0, string P_1)
	{
		File.Copy(P_0, P_1);
	}

	static StreamReader _206D_202A_202C_202C_202B_200B_202B_200F_202E_200D_202A_206B_206A_202E_206C_206A_206D_202C_200F_200F_206F_202D_206B_202B_200D_202C_206E_200F_206C_202B_206E_202D_200C_206F_200B_202C_206B_206B_202C_206F_202E(string P_0)
	{
		return File.OpenText(P_0);
	}

	static string _200D_202A_206F_206F_206E_206F_202B_206F_206D_202E_202E_206D_200F_206D_200C_206B_200D_202D_202A_200E_202E_206A_200F_200F_206B_200E_206C_202A_200C_200B_200C_206A_206D_200B_200F_200B_200B_206B_200D_202E(TextReader P_0)
	{
		return P_0.ReadToEnd();
	}

	static void _200F_206F_202D_200E_200F_206C_206F_200B_206C_206D_202B_206E_206A_202C_202A_206B_206C_206A_200F_206A_200E_200B_200B_200C_202B_200D_200B_200E_202B_202B_206F_200C_200F_200E_202B_202A_200F_200B_202A_202B_202E(IDisposable P_0)
	{
		P_0.Dispose();
	}

	static WebClient _200B_206C_202C_202A_200F_200B_202E_200D_206C_206F_202C_200B_206E_200C_200D_200F_200F_200E_206A_202C_202D_202D_202E_202B_202D_202E_200D_202B_206A_202D_206E_206F_200F_200E_202D_206A_206D_206A_206F_202B_202E()
	{
		return new WebClient();
	}

	static string _202E_206F_202C_202C_200E_200D_202A_202A_202B_200C_200C_200F_206C_206B_200F_200C_206B_202E_206F_206A_202D_202C_202B_200D_202B_202D_206C_200C_202A_200E_206F_202E_202A_200E_200F_200F_206A_206A_200D_202B_202E(string P_0)
	{
		return Path.GetFileName(P_0);
	}

	static void _206F_206C_202A_200F_206D_202B_206A_200E_206E_200C_206C_206C_206E_202C_200E_202E_200C_206E_206C_202E_206C_206D_206A_200F_202D_206A_202C_206F_200E_200E_206B_202E_202C_206E_202E_206F_200C_200D_206C_200C_202E(WebClient P_0, string P_1, string P_2)
	{
		P_0.DownloadFile(P_1, P_2);
	}

	static void _202C_202B_200D_206D_206C_200B_200F_206C_200C_202B_200C_200F_202A_206B_202B_206F_202D_202D_202B_206D_200B_202A_206C_206D_200D_202A_206D_206E_200D_200D_200E_206D_206E_202C_202E_206E_200C_206D_202A_206D_202E(Exception P_0)
	{
		Debug.LogException(P_0);
	}
}
